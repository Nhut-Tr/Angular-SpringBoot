<div class="container">
  <div class="row">
    <!-- Left -->

    <!-- Right -->
    <form
      class="col-lg-12"
      [formGroup]="checkoutForm"
      (ngSubmit)="checkValidate()"
    >
      <div class="card position-sticky top-0">
        <div class="p-3 bg-light bg-opacity-10">
          <h6 class="title">Order Detail</h6>
          <div
            class="d-flex justify-content-between mb-1 small"
            *ngFor="let cart of carts; let i = index"
          >
            <label class="label-pay"
              >{{ i + 1 }}. {{ cart.products?.name }}</label
            >

            <label class="label-pay"
              >Price: <b>${{ cart.price }}</b></label
            >

            <label class="label-pay"
              >Quantity: <b>{{ cart.quantity }}</b></label
            >

            <hr />
          </div>
          <br />
          <div class="d-flex justify-content-between mb-4 small">
            <span class="pay"
              >TOTAL: <b class="total-all">${{ totalAll }}</b></span
            >
          </div>
        </div>
        <hr />
        <br />
        <h2 style="text-align: center">Delivery Information</h2>
        <label class="label-input"><span>Name*</span></label>
        <div class="input-deli">
          <input
            [ngClass]="{
              'is-invalid':
              checkoutForm.controls['fullName'].dirty && checkoutForm.controls['fullName'].errors?.['required']
            }"
            formControlName="fullName"
            name="fullName"
            type="text"
            class="form-control"
            placeholder="Enter your name..."
          />
          <div
            class="text-danger"
            *ngIf="
              checkoutForm.controls['fullName'].dirty &&
              checkoutForm.controls['fullName'].errors
            "
          >
            <div
              class="text-danger title-error"
              *ngIf="checkoutForm.controls['fullName'].errors?.['required']"
            >
              *Name is required
            </div>
          </div>
        </div>
        <br />
        <label class="label-input"><span>Address*</span></label>
        <div class="input-deli">
          <input
            [ngClass]="{
            'is-invalid':
            checkoutForm.controls['address'].dirty && checkoutForm.controls['address'].errors?.['required']
          }"
            formControlName="address"
            name="address"
            type="text"
            class="form-control"
            placeholder="Enter your address..."
          />
          <div
            class="text-danger"
            *ngIf="
              checkoutForm.controls['address'].dirty &&
              checkoutForm.controls['address'].errors
            "
          >
            <div
              class="text-danger title-error"
              *ngIf="checkoutForm.controls['address'].errors?.['required']"
            >
              *Address is required
            </div>
          </div>
        </div>
        <br />
        <label class="label-input"><span>Phone number*</span></label>
        <div class="input-deli">
          <input
            [ngClass]="{
            'is-invalid':
            checkoutForm.controls['phoneNumber'].dirty && checkoutForm.controls['phoneNumber'].errors?.['required'] && checkoutForm.controls['phoneNumber'].errors?.['pattern']
          }"
            formControlName="phoneNumber"
            type="text"
            name="phoneNumber"
            class="form-control"
            placeholder="Enter your phone number..."
          />
          <div
            class="text-danger"
            *ngIf="
              checkoutForm.controls['phoneNumber'].dirty &&
              checkoutForm.controls['phoneNumber'].errors
            "
          >
            <div
              class="text-danger title-error"
              *ngIf="checkoutForm.controls['phoneNumber'].errors?.['required']"
            >
              *Phone Number is required
            </div>
            <div
              class="text-danger title-error"
              *ngIf="checkoutForm.controls['phoneNumber'].errors?.['pattern']"
            >
              *Please enter a valid phone number
            </div>
          </div>
        </div>
        <br />
        <label class="label-input"><span>Note*</span></label>
        <div class="input-deli">
          <input
            [ngClass]="{
            'is-invalid':
            checkoutForm.controls['description'].dirty && checkoutForm.controls['description'].errors?.['required']
          }"
            formControlName="description"
            type="text"
            name="description"
            class="form-control"
            placeholder="Enter note..."
          />
        </div>
        <hr />
        <div class="payment">
          <div class="title-page">Payment Method</div>
          <div
            class="paypal-ngx"
            [ngStyle]="
              !checkoutForm.invalid
                ? {}
                : { opacity: '0.5', 'pointer-events': 'none' }
            "
          >
            <ngx-paypal
              style="text-align: center"
              [config]="payPalConfig"
            ></ngx-paypal>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
